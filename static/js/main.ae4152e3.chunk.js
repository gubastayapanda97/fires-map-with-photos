(this["webpackJsonpfires-map-with-photos"]=this["webpackJsonpfires-map-with-photos"]||[]).push([[0],Array(27).concat([function(t,e,o){t.exports=o.p+"static/media/venue_location_icon.2ceaf661.svg"},function(t,e,o){t.exports=o.p+"static/media/selected_venue_location_icon.112e360f.svg"},,,function(t,e,o){t.exports=o.p+"static/media/1.4529c537.png"},function(t,e,o){t.exports=o.p+"static/media/2.87397645.png"},function(t,e,o){t.exports=o.p+"static/media/3.f0225aac.png"},function(t,e,o){t.exports=o.p+"static/media/4.85aebde2.png"},function(t,e,o){t.exports=o.p+"static/media/5.ee62442b.png"},function(t,e,o){t.exports=o.p+"static/media/6.b9ddc08b.png"},function(t,e,o){t.exports=o.p+"static/media/7.44a1d9e5.png"},function(t,e,o){t.exports=o.p+"static/media/8.0dd202af.png"},function(t,e,o){t.exports=o.p+"static/media/9.d0dabd5e.png"},function(t,e,o){t.exports=o.p+"static/media/10.c3ed7ff7.png"},function(t,e,o){t.exports=o.p+"static/media/11.197686ce.png"},function(t,e,o){t.exports=o.p+"static/media/12.b72155bf.png"},function(t,e,o){t.exports=o.p+"static/media/13.7324092d.png"},function(t,e,o){t.exports=o.p+"static/media/14.a2948468.png"},function(t,e,o){t.exports=o.p+"static/media/15.a5e43a84.png"},function(t,e,o){t.exports=o.p+"static/media/16.1506d5f6.png"},function(t,e,o){t.exports=o.p+"static/media/17.b199599c.png"},function(t,e,o){t.exports=o.p+"static/media/18.13eb519f.png"},function(t,e,o){t.exports=o.p+"static/media/19.2c98bb8b.png"},function(t,e,o){t.exports=o.p+"static/media/20.cd00b7d3.png"},function(t,e,o){t.exports=o.p+"static/media/21.a9d8a3e8.png"},function(t,e,o){t.exports=o.p+"static/media/22.08cdac67.png"},function(t,e,o){t.exports=o.p+"static/media/23.be67d5d3.png"},function(t,e,o){t.exports=o.p+"static/media/24.4098234a.png"},function(t,e,o){t.exports=o.p+"static/media/25.f12419a4.png"},,,,,,function(t,e,o){t.exports=o(72)},,,,,,,,,,function(t,e,o){},function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),i=o(15),r=o.n(i),c=o(20),p=o(21),l=o(29),s=o(30),u=o(59),m=o(58),d=o(23),h=o(26),g=(o(66),o(31)),x=o.n(g),f=o(32),v=o.n(f),z=o(33),y=o.n(z),b=o(34),E=o.n(b),k=o(35),w=o.n(k),M=o(36),O=o.n(M),S=o(37),j=o.n(S),Z=o(38),C=o.n(Z),_=o(39),G=o.n(_),A=o(40),L=o.n(A),N=o(41),T=o.n(N),U=o(42),H=o.n(U),R=o(43),I=o.n(R),Y=o(44),W=o.n(Y),B=o(45),J=o.n(B),q=o(46),D=o.n(q),F=o(47),V=o.n(F),$=o(48),K=o.n($),P=o(49),Q=o.n(P),X=o(50),tt=o.n(X),et=o(51),ot=o.n(et),at=o(52),nt=o.n(at),it=o(53),rt=o.n(it),ct=o(54),pt=o.n(ct),lt=o(55),st=o.n(lt),ut=[{id:1,coord:[54.825393,40.696829],azimut:21,photo:x.a},{id:2,coord:[54.825392,40.696835],azimut:281,photo:v.a},{id:3,coord:[54.830594,40.703231],azimut:252,photo:y.a},{id:4,coord:[54.825392,40.696832],azimut:306,photo:E.a},{id:5,coord:[54.825392,40.696835],azimut:282,photo:w.a},{id:6,coord:[54.830593,40.703229],azimut:250,photo:O.a},{id:7,coord:[54.830753,40.690019],azimut:247,photo:j.a},{id:8,coord:[54.830755,40.69002],azimut:240,photo:C.a},{id:9,coord:[54.830757,40.690023],azimut:282,photo:G.a},{id:10,coord:[54.830753,40.690019],azimut:247,photo:L.a},{id:11,coord:[54.829944,40.699913],azimut:250,photo:T.a},{id:12,coord:[54.830859,40.690852],azimut:259,photo:H.a},{id:13,coord:[54.830859,40.690853],azimut:247,photo:I.a},{id:14,coord:[54.842597,40.721975],azimut:207,photo:W.a},{id:15,coord:[54.84071,40.720159],azimut:207,photo:J.a},{id:16,coord:[54.830756,40.690023],azimut:264,photo:D.a},{id:17,coord:[54.839178,40.72718],azimut:238,photo:V.a},{id:18,coord:[54.83086,40.690851],azimut:337,photo:K.a},{id:19,coord:[54.844042,40.724108],azimut:330,photo:Q.a},{id:20,coord:[54.850608,40.720815],azimut:164,photo:tt.a},{id:21,coord:[54.850603,40.720815],azimut:273,photo:ot.a},{id:22,coord:[54.850607,40.720812],azimut:302,photo:nt.a},{id:23,coord:[54.850607,40.720819],azimut:273,photo:rt.a},{id:24,coord:[54.850606,40.720805],azimut:333,photo:pt.a},{id:25,coord:[54.850608,40.720815],azimut:230,photo:st.a}],mt=o(10),dt=o(2),ht=o.n(dt),gt=o(60),xt=o(24),ft=o(25),vt=o(56),zt=o.n(vt),yt=ht.a.icon({iconUrl:o(27),iconRetinaUrl:o(27),iconAnchor:[11,28],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:[35,35],className:"leaflet-venue-icon"}),bt=ht.a.icon({iconUrl:o(28),iconRetinaUrl:o(28),iconAnchor:[11,28],shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:[35,35],className:"leaflet-venue-icon"}),Et=function(t){return ht.a.divIcon({html:"<span>".concat(t.getChildCount(),"</span>"),className:"marker-cluster-custom",iconSize:ht.a.point(20,20,!0)})},kt=function(t){var e=t.venues,o=t.mapZoom,i=t.selectedMarker,r=t.handleMarkerClick,c=Object(a.useMemo)((function(){return e.map((function(t){var e=t.azimut,a=t.photo,c=t.coord,p=t.id;if(!a)return null;var l=Object(mt.e)(c),s=2e3/o,u=e>=0&&e<=90?90-e:450-e,m=Object(gt.a)(l,s,u,{units:"meters"}).geometry.coordinates,d=(null===i||void 0===i?void 0:i.id)===p;return n.a.createElement(xt.a,{key:p,position:c,icon:d?bt:yt,onClick:function(){return r(t)}},n.a.createElement(ft.a,{positions:[c,m]}))}))}),[e,i,r,o]);return n.a.createElement(zt.a,{showCoverageOnHover:!1,maxClusterRadius:20,iconCreateFunction:Et},c)},wt=function(t){Object(u.a)(o,t);var e=Object(m.a)(o);function o(t){var a;Object(l.a)(this,o),a=e.call(this,t);var n=t.tileLayerConfig,i=n.url,r=n.maxZoom;return a.state={currentLocation:{lat:54.830594,lng:40.703231},zoom:13,maxZoom:r,url:i},a}return Object(s.a)(o,[{key:"componentDidMount",value:function(){var t=document.querySelector(".leaflet-control-attribution");t&&(t.style.display="none")}},{key:"render",value:function(){var t=this,e=this.state,o=e.currentLocation,a=e.zoom,i=e.maxZoom,r=e.url,c=this.props,l=c.selectedMarker,s=c.setSelectedMarker;return n.a.createElement(d.a,{center:o,zoom:a,maxZoom:i,onViewportChanged:function(e){var o=e.zoom;t.state.zoom!==o&&t.setState((function(t){return Object(p.a)(Object(p.a)({},t),{},{zoom:o})}))}},n.a.createElement(h.a,{url:r,attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),n.a.createElement(kt,{venues:ut,mapZoom:a,selectedMarker:l,handleMarkerClick:function(t){l&&(null===l||void 0===l?void 0:l.id)===(null===t||void 0===t?void 0:t.id)||s(t)}}))}}]),o}(a.Component),Mt=function(t){var e=t.selectedMarker;if(!e)return null;var o=e.coord,a=e.azimut,i=e.photo,r=o.join(", ");return n.a.createElement("div",null,n.a.createElement("div",{className:"poup-text"},"\u041a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u044b: ",r),n.a.createElement("div",{className:"poup-text"},"\u0410\u0437\u0438\u043c\u0443\u0442: ",a),i&&n.a.createElement("img",{style:{maxWidth:"100vw",maxHeight:"40vh"},onClick:function(t){console.log("click",t.target.src),window.open(t.target.src)},src:i,alt:r}))},Ot=(o(71),{ggc:{url:"https://layers.extremum.org/proxy/ggc/{z}/{x}/{y}.png",maxZoom:15},OpenTopoMap:{url:"https://tile-c.opentopomap.ru/{z}/{x}/{y}.png",maxZoom:18},TopoMapper:{url:"https://layers.extremum.org/v2/other/topomapperproxy/{z}/{x}/{y}.jpg",maxZoom:13},Yandex:{url:"https://core-renderer-tiles.maps.yandex.net/tiles?l=map&x={x}&y={y}&z={z}&scale=2",maxZoom:17},Yandex_Satellite:{url:"https://sat01.maps.yandex.net/tiles?l=sat&x={x}&y={y}&z={z}",maxZoom:19},Google_Satellite:{url:"https://mt0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",maxZoom:19},Google_Hybrid:{url:"http://mts0.google.com/vt/lyrs=y&x={x}&s=&y={y}&z={z}",maxZoom:20},rosReestr:{url:"https://ngw.fppd.cgkipd.ru/tile/56/{z}/{x}/{y}.png",maxZoom:14},"2GIS":{url:"http://tile0.maps.2gis.com/tiles?v=1&x={x}&y={y}&z={z}",maxZoom:16},OpenStreetMap:{url:"https://a.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:18}});var St=function(){var t=Object(a.useState)("ggc"),e=Object(c.a)(t,2),o=e[0],i=e[1],r=Object(a.useState)(null),p=Object(c.a)(r,2),l=p[0],s=p[1],u=Object(a.useCallback)((function(){return n.a.createElement(wt,{tileLayerConfig:Ot[o],selectedMarker:l,setSelectedMarker:s})}),[o,l]);return n.a.createElement("div",{className:"App"},n.a.createElement("select",{name:"tileLayers",id:"tileLayers",style:{margin:"10px"},value:o,onChange:function(t){i(t.target.value)}},n.a.createElement("option",{value:"ggc"},"\u0413\u0413\u0426"),n.a.createElement("option",{value:"OpenStreetMap"},"OpenStreetMap"),n.a.createElement("option",{value:"OpenTopoMap"},"OpenTopoMap"),n.a.createElement("option",{value:"TopoMapper"},"TopoMapper"),n.a.createElement("option",{value:"Yandex"},"\u042f\u043d\u0434\u0435\u043a\u0441 \u041a\u0430\u0440\u0442\u044b"),n.a.createElement("option",{value:"Yandex_Satellite"},"\u042f\u043d\u0434\u0435\u043a\u0441 \u0421\u043f\u0443\u0442\u043d\u0438\u043a"),n.a.createElement("option",{value:"Google_Satellite"},"Google Satellite"),n.a.createElement("option",{value:"Google_Hybrid"},"Google Hybrid"),n.a.createElement("option",{value:"rosReestr"},"\u0420\u043e\u0441\u0440\u0435\u0435\u0441\u0442\u0440"),n.a.createElement("option",{value:"2GIS"},"2Gis")),n.a.createElement(u,null),n.a.createElement(Mt,{selectedMarker:l}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(St,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}]),[[61,1,2]]]);
//# sourceMappingURL=main.ae4152e3.chunk.js.map